generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

//models...
model User {
  id            String @id @default(uuid())
  public_address String @unique
  nonce         String

  created_at DateTime @default(now())
	organizations Organization[]

  @@map("users")
}

model Organization {
  id String @id @default(uuid())
	created_at DateTime @default(now())

	name String

	owner User @relation(fields: [owner_id], references: [id])
	owner_id String

	payments Payment[]

	@@map("organizations")
}

model Payment {
  id String @id @default(uuid())
	created_at DateTime @default(now())

	organization Organization @relation(fields: [organization_id], references: [id])
	organization_id String

	payer_public_address String

	value Float
	description String?

	type String @default("invoice")

	@@map("payments")
}
